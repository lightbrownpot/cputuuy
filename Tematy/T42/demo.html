<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>T42 - zadanie z datą urodzin</title>
</head>
<body>
<header>
    <h1>T42 - zadanie z datą urodzin</h1>
    <h2>Autor: Andrii Bondar 4i</h2>
</header>
<script>
    let input = prompt("Podaj datę urodzenia (RRRR-MM-DD):");

    if (!input) {
        document.write("Proszę podać poprawną datę urodzenia.");
    } else {
        let birth = new Date(input);

        if (isNaN(birth.getTime())) {
            document.write("Proszę podać poprawną datę w formacie RRRR-MM-DD.");
        } else {
            let today = new Date();
            if (birth > today) {
                document.write("Data urodzenia nie może być z przyszłości.");
            } else {
                let days = ["niedzielę", "poniedziałek", "wtorek", "środę", "czwartek", "piątek", "sobotę"];
                let age = today.getFullYear() - birth.getFullYear();
                let hasBirthdayPassed =
                    today.getMonth() > birth.getMonth() ||
                    (today.getMonth() === birth.getMonth() && today.getDate() >= birth.getDate());
                if (!hasBirthdayPassed) age--;

                let nextBirthday = new Date(today.getFullYear(), birth.getMonth(), birth.getDate());
                if (nextBirthday < today) {
                    nextBirthday.setFullYear(today.getFullYear() + 1);
                }

                let diffMs = nextBirthday - today;
                let diffDays = Math.ceil(diffMs / (1000 * 60 * 60 * 24));

                document.write("Twoja data urodzenia: " + input + "<br>");
                document.write("Urodziłeś się w " + days[birth.getDay()] + "<br>");
                document.write("Masz " + age + " lat<br>");
                document.write("Do Twoich najbliższych urodzin pozostało: " + diffDays + " dni");
            }
        }
    }

</script>
</body>
</html>