<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Z95 - max w tab. dwuwymiarowej.</title>
</head>
<body>
<header>
    <h1>Z95 - max w tab. dwuwymiarowej.</h1>
    <h2>Autor: Andrii Bondar 4i</h2>
</header>
<script>

    let n = prompt("Liczba wierszy (n):");
    let m = prompt("Liczba kolumn (m):");

    let n_org = n;
    let m_org = m;

    n = parseInt(n);
    m = parseInt(m);

    let tekst = prompt("Wartości tablicy (liczby całkowite oddzielone przecinkami):");

    if (isNaN(n) || isNaN(m)) {

        document.write("Wymiary tablicy: n = " + n_org + ", m = " + m_org + "<br>");
        document.write("Wprowadzone liczby: " + tekst + "<br>");
        document.write("Rezultat: n i m muszą być liczbami.");
        throw new Error(); // zatrzymanie programu
    }


    let czesci = tekst.split(",");

    if (czesci.length !== n * m) {
        document.write("Wymiary tablicy: n = " + n_org + ", m = " + m_org + "<br>");
        document.write("Wprowadzone liczby: " + tekst + "<br>");
        document.write("Rezultat: liczba wartości nie zgadza się z n × m.");
        throw new Error();
    }

    let liczby = [];
    for (let i = 0; i < czesci.length; i++) {
        let w = parseInt(czesci[i].trim());
        if (isNaN(w)) {
            document.write("Wymiary tablicy: n = " + n_org + ", m = " + m_org + "<br>");
            document.write("Wprowadzone liczby: " + tekst + "<br>");
            document.write("Rezultat: \"" + czesci[i] + "\" nie jest liczbą całkowitą.");
            throw new Error();
        }
        liczby.push(w);
    }

    let tab = [];
    let idx = 0;
    for (let i = 0; i < n; i++) {
        tab[i] = [];
        for (let j = 0; j < m; j++) {
            tab[i][j] = liczby[idx++];
        }
    }

    let max = Math.max(...liczby);

    document.write("<h3>Tablica:</h3>");
    for (let i = 0; i < n; i++) {
        for (let j = 0; j < m; j++) {
            document.write("tab[" + i + "][" + j + "] = " + tab[i][j] + "<br>");
        }
    }

    document.write("<br><b>Maksymalna wartość: " + max + "</b>");

</script>
</body>
</html>